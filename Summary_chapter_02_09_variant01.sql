SET GLOBAL SQL_MODE = CONCAT(@@SQL_MODE, ',ONLY_FULL_GROUP_BY');

SELECT p.Nom
FROM EstAmi ea, Personne p
WHERE ea.SSN1 = p.SSN
GROUP BY ea.SSN1
HAVING (COUNT(ea.SSN2) >= 1 AND COUNT(ea.SSN2) <= 2);
